
```cs
using System;

namespace TicTacToeGame
{
    class Program
    {
        //игровое поле
        static char[,] board =
        {
            { '1', '2', '3' },
            { '4', '5', '6' },
            { '7', '8', '9' }
        };

        static int turns = 0; //счетчик ходов

        static void Main(string[] args)
        {
            char currentPlayer = 'X'; //начинают крестики
            bool gameEnded = false;

            while (!gameEnded)
            {
                DrawBoard(); //рисуем поле

                //спрашиваем ход и обновляем поле
                PlayerMove(currentPlayer);

                // проверяем победу
                if (CheckWin(currentPlayer))
                {
                    DrawBoard();
                    Console.WriteLine($"\nПоздравляем! Игрок '{currentPlayer}' победил!");
                    gameEnded = true;
                }
                // проверяем ничью
                else if (turns == 9)
                {
                    DrawBoard();
                    Console.WriteLine("\nНичья! Места на поле закончились.");
                    gameEnded = true;
                }
                else
                {
                    //смена игрока
                    currentPlayer = (currentPlayer == 'X') ? 'O' : 'X';
                }
            }
        }

        //метод отрисовки игрового поля в консоли
        static void DrawBoard()
        {
            Console.Clear(); //очищаем консоль перед каждой отрисовкой
            Console.WriteLine("Крестики-Нолики");
            Console.WriteLine("-------------------------------------");
            Console.WriteLine($" {board[0, 0]} | {board[0, 1]} | {board[0, 2]} ");
            Console.WriteLine("---|---|---");
            Console.WriteLine($" {board[1, 0]} | {board[1, 1]} | {board[1, 2]} ");
            Console.WriteLine("---|---|---");
            Console.WriteLine($" {board[2, 0]} | {board[2, 1]} | {board[2, 2]} ");
            Console.WriteLine("-------------------------------------");
        }

        //логика хода игрока с проверкой валидности ввода
        static void PlayerMove(char playerSymbol)
        {
            bool validMove = false;

            while (!validMove)
            {
                Console.Write($"\nХод игрока '{playerSymbol}'. Введите номер клетки (1-9): ");
                string input = Console.ReadLine();

                //проверка: ввел ли пользователь число и находится ли оно в диапазоне 1-9
                if (int.TryParse(input, out int cell) && cell >= 1 && cell <= 9)
                {
                    int row = (cell - 1) / 3;
                    int col = (cell - 1) % 3;

                    //проверка: занята ли клетка
                    if (board[row, col] != 'X' && board[row, col] != 'O')
                    {
                        board[row, col] = playerSymbol;
                        turns++;
                        validMove = true;
                    }
                    else
                    {
                        Console.WriteLine("Ошибка: Эта клетка уже занята!");
                    }
                }
                else
                {
                    Console.WriteLine("Ошибка: Введите корректное число от 1 до 9!");
                }
            }
        }

        //проверка всех выигрышных комбинаций
        static bool CheckWin(char playerSymbol)
        {
            //проверка по горизонтали
            for (int i = 0; i < 3; i++)
            {
                if (board[i, 0] == playerSymbol && board[i, 1] == playerSymbol && board[i, 2] == playerSymbol)
                    return true;
            }

            //проверка по вертикали
            for (int j = 0; j < 3; j++)
            {
                if (board[0, j] == playerSymbol && board[1, j] == playerSymbol && board[2, j] == playerSymbol)
                    return true;
            }

            //проверка диагоналей
            if (board[0, 0] == playerSymbol && board[1, 1] == playerSymbol && board[2, 2] == playerSymbol)
                return true;

            if (board[0, 2] == playerSymbol && board[1, 1] == playerSymbol && board[2, 0] == playerSymbol)
                return true;

            return false;
        }
    }
}
```
